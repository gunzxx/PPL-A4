<!DOCTYPE html>
<html>
<head>
  <title>ForeCasting harga kedelai </title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <canvas id="myChart"></canvas>

  <script>
    // Mendefinisikan data
    const data = {
      labels: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Agu", "Sep", "Okt", "Nov", "Des"],
      datasets: [{
        label: "Data Penjualan",
        data: [10.123, 10.042, 10.231, 10.273, 10.283, 10.331, 10.385, 10.372, 10.395, 10.383, 10.236, 10.214],
        backgroundColor: "rgba(54, 162, 235, 0.2)",
        borderColor: "rgba(54, 162, 235, 1)",
        borderWidth: 1
      }]
    };

    // Menginisialisasi grafik
    const ctx = document.getElementById("myChart").getContext("2d");
    const myChart = new Chart(ctx, {
      type: "line",
      data: data,
      options: {
        responsive: true,
        scales: {
          yAxes: [{
            ticks: {
              beginAtZero: true
            }
          }]
        }
      }
    });

    // Membuat prediksi
    const lastData = data.datasets[0].data.slice(-3); // Mengambil 3 data terakhir
    const forecast = [lastData.reduce((a, b) => a + b, 0) / lastData.length]; // Menghitung rata-rata
    for (let i = 0; i < 11; i++) {
      forecast.push(forecast[forecast.length - 1]); // Menambahkan data prediksi sebanyak 11 bulan (total 12 bulan)
    }

    // Menambahkan data prediksi ke dataset
    myChart.data.datasets.push({
      label: "Prediksi",
      data: forecast,
      backgroundColor: "rgba(255, 99, 132, 0.2)",
      borderColor: "rgba(255, 99, 132, 1)",
      borderWidth: 1,
      borderDash: [5, 5]
    });

    // Memperbarui grafik
    myChart.update();
  </script>
</body>
</html>
